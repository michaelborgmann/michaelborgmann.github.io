---
title: "1. Setup Hugo"
slug: setup-hugo
date: 2021-06-18T00:14:08+01:00
draft: false
author: Michael Borgmann
year: "2021"
month: "2021/06"
sidebar:
- "[1. Setup Hugo](/tutorials/hugo/setup-hugo/)"
- "[2. Building a Themes](/tutorials/hugo/building-a-theme/)"
- "[3. Adding Content Sections](/tutorials/hugo/adding-content-sections/)"
- "[4. Working with Data](/tutorials/hugo/working-with-data/)"
- "[5. Add Blogging](/tutorials/hugo/add-blogging/)"
- "[6. Deploy on GitLab](/tutorials/hugo/deploy-on-gitlab/)"
---

Setup Hugo to create static web pages

<!--more-->

## Installing Hugo on macOS with Homebrew

```
$ brew install hugo
```

## Create your Site

```
$ hugo new site sitename
```

Or when creating a website intended to be hosted on Gitlab:

```
hugo new site michaelborgmann.gitlab.io
```

## Folder Structure

```
sitename/
|--- archetypes/
|  |--- default.md
|--- config.toml
|--- content/
|--- data/
|--- layouts/
|--- static/
|--- themes/
```

* **archetypes** is where you place Markdown templates, already including a default one with title and date.
* **config.toml** holds configuration variables
* **content** holds site content and/or collections of Markdown or HTML
* **data** holds data files in YAML, JSON, or TOML
* **layouts** define the site's look and feel
* **static** holds CSS, JavaScript, images, and other assets not generated by Hugo
* **themes** holds themes

## Site configuration

Edit the ``config.toml`` (baseURL, languageCode, title) to suit your needs.

## Building a Home Page

You define *layouts* that contains the skeleton of a page (and content pages contain only content).

Hugo uses a separate layout for the home page, as it assumes to look different to other content pages.

Create a simple ``layouts/index.html``:

```
<!doctype html>
<html lang="en-US">
	<head>
		<meta charset="utf-8">
    <title>{{ .Site.Title }}</title>
	</head>
  <body>
    <h1>{{ .Site.Title }}</h1>
    {{ .Content }}
  </body>
</html>
```

To pull in data and content, Hugo uses Go's [http/template](https://golang.org/pkg/text/template/) library in its layouts, which could be worth exploring when building more complex templates.

The spots between double curly braces define where content goes, and it can come from many places:

* ``{{ .Site.Title }}`` pulls the ``title`` field out of the ``config.toml`` file.
* The ``.Site`` prefix gets the value from the site's data rather from the page's data;
* The ``{{ .Content }} line displays the content for the page of an associated Markdown file from the ``content`` folder, and doesn't need the ``.Site`` prefix.

The content for the ``{{ .Content }}`` statement of a home page comes from ``content/_index.md``. This is a special filename for Hugo to find content for all index pages.

Create the ``content/_index.md`` and edit it. You can place any valid Markdown.

## Test Hugo Sites

```
$ hugo server
```

and see in your browser at [http://localhost:1313](http://localhost:1313)

## Creating Content Using Archetypes

You can also tell Hugo to create content pages that contain placeholder content, instead of starting blank. Hugo uses archetypes to define this default content.

Have a look at ``archetypes/default.md``. This is a Markdown file with YAML front matter, and a little bit of templating code. Huge uses the front matter when generating pages.

The ``hugo new`` command uses the archetype file as template to create a new Markdown file:

```
$ hugo new about.md
```

Change the ``draft`` status to ``true`` for publishing.

Remember that the created ``index.html`` layout is only for the home page. The created ``about`` page is a ``single`` page, and as such you need a ``single page`` layout to display it.

You can create different single page layouts for each content type, which get stored in subdirectories of ``layouts``. To create a default single page layout that every content page will use, store it in ``layouts/_default``:

```
$ mkdir layouts/_default
```

and create ``layouts/_default/single.html`` by copying ``layouts/index.html/``.

## Building Hugo Output

When running ``hugo server`` the project is generated in memory.

With the ``hugo`` command Hugo output's to disk in a new directory named ``public``.

```
$ hugo
```

The ``public`` folder contains the full static page, which can be uploaded to be published on your web server.

Be aware that. Hugo doesn't clean up the ``public`` folder. Delete the entire ``public`` folder when generating the site:

```
$ rm -r public && hugo
```

Alternative use:

```
$ hugo --cleanDestinationDir
```

Additionally minify the generated files:

```
$ hugo --cleanDestinationDir --minify
```
